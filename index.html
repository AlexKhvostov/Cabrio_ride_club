<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CabrioRide Dashboard</title>
    <meta name="description" content="–í–µ–±-–¥–∞—à–±–æ—Ä–¥ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–ª—É–±–∞ –∫–∞–±—Ä–∏–æ–ª–µ—Ç–æ–≤ CabrioRide">
    <meta name="theme-color" content="#0a0a0a">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="css/style.css?v=1.2" as="style">
    <link rel="preload" href="js/data.js" as="script">
    <link rel="preload" href="js/app.js" as="script">
    
    <link rel="stylesheet" href="css/style.css?v=1.2">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    
    <!-- Telegram Login Widget -->
    <script async src="https://telegram.org/js/telegram-widget.js?22"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="logo-container">
                <img src="logo.png" alt="CabrioRide" class="logo">
            </div>
            <h1>CabrioRide</h1>
            <div class="spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="login-screen" class="screen hidden">
        <!-- –ë–æ–ª—å—à–æ–π –ª–æ–≥–æ—Ç–∏–ø –Ω–∞ —Ñ–æ–Ω–µ -->
        <div class="background-logo">
            <img src="logo.png" alt="CabrioRide" class="background-logo-img">
        </div>
        
        <div class="login-container">
            <div class="login-header">
                <div class="logo-large">
                    <img src="logo.png" alt="CabrioRide" class="logo-img">
                </div>
                <h1>CabrioRide</h1>
                <p>–í–µ–±-–¥–∞—à–±–æ—Ä–¥ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–ª—É–±–∞</p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üë•</div>
                    <div class="feature-content">
                        <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–ª—É–±–∞</h3>
                        <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –∏—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</p>
                    </div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üöó</div>
                    <div class="feature-content">
                        <h3>–ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</h3>
                        <p>–ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –∫–∞–±—Ä–∏–æ–ª–µ—Ç–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</p>
                    </div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéâ</div>
                    <div class="feature-content">
                        <h3>–°–æ–±—ã—Ç–∏—è –∏ —Å–µ—Ä–≤–∏—Å—ã</h3>
                        <p>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –∫–ª—É–±–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤</p>
                    </div>
                </div>
                <div class="feature-card feature-card-check-number" id="btn-check-number" style="cursor: pointer;">
                    <div class="feature-icon">üîç</div>
                    <div class="feature-content">
                        <h3>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–º–µ—Ä</h3>
                        <p>–ü–æ–∏—Å–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –ø–æ –Ω–æ–º–µ—Ä—É –≤ –±–∞–∑–µ –∫–ª—É–±–∞</p>
                    </div>
                </div>
            </div>

            <div class="login-buttons">
                <!-- Telegram Login Widget -->
                <script async src="https://telegram.org/js/telegram-widget.js?22" 
                        data-telegram-login="Cabrio_Ride_bot" 
                        data-size="large" 
                        data-auth-url="https://club.cabrioride.by/backend/auth-callback.php"
                        data-onauth="onTelegramAuth(user)"
                        data-request-access="write">
                </script>
                <p class="login-note">–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–ª—É–±–∞ –∫–∞–±—Ä–∏–æ–ª–µ—Ç–æ–≤</p>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–º–µ—Ä–∞ -->
    <div id="check-number-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content form-modal check-number-modal">
            <div class="modal-header">
                <h3>üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞</h3>
                <button class="modal-close" onclick="app.closeModal('check-number-modal')">‚úï</button>
            </div>
            <form id="check-number-form" class="modal-form">
                <div class="form-group">
                    <label for="car-number-input">–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (3-8 —Å–∏–º–≤–æ–ª–æ–≤)</label>
                    <input type="text" 
                           id="car-number-input" 
                           name="car_number" 
                           pattern="[A-Za-z0-9]{3,8}" 
                           minlength="3" 
                           maxlength="8" 
                           required 
                           autocomplete="off" 
                           placeholder="70MX"
                           style="text-transform: uppercase; font-size: 1.1rem; text-align: center; letter-spacing: 1px;">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary" id="btn-submit-check-number" disabled>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                </div>
                <div id="check-number-result" class="check-result"></div>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="app hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="app-title">CabrioRide</h1>
                    <button class="search-btn" id="header-search-btn" title="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è">
                        <span>üîç</span>
                    </button>
                </div>
                <div class="header-center">
                    <div class="header-logo">
                        <img src="logo.png" alt="CabrioRide" class="header-logo-img">
                    </div>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <div class="user-avatar" id="user-avatar"></div>
                        <div class="user-details">
                            <div class="user-name" id="user-name"></div>
                            <div class="user-nickname" id="user-nickname"></div>
                        </div>
                        <button class="unlink-btn" id="unlink-btn" title="–û—Ç–≤—è–∑–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç">
                            <span>üîó</span>
                        </button>
                        <button class="logout-btn" id="logout-btn" title="–í—ã–π—Ç–∏">
                            <span>üö™</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="nav">
                <button class="nav-btn active" data-tab="stats">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                </button>
                <button class="nav-btn" data-tab="members">
                    <span class="nav-icon">üë•</span>
                    <span class="nav-label">–£—á–∞—Å—Ç–Ω–∏–∫–∏</span>
                </button>
                <button class="nav-btn" data-tab="cars">
                    <span class="nav-icon">üöó</span>
                    <span class="nav-label">–ê–≤—Ç–æ–º–æ–±–∏–ª–∏</span>
                </button>
                <button class="nav-btn" data-tab="invitations">
                    <span class="nav-icon">üì®</span>
                    <span class="nav-label">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</span>
                </button>
                <button class="nav-btn" data-tab="events">
                    <span class="nav-icon">üéâ</span>
                    <span class="nav-label">–°–æ–±—ã—Ç–∏—è</span>
                </button>
                <button class="nav-btn" data-tab="services">
                    <span class="nav-icon">üîß</span>
                    <span class="nav-label">–°–µ—Ä–≤–∏—Å—ã</span>
                </button>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Stats Tab -->
            <div id="stats-tab" class="tab-content active">
                <div class="container">
                    <div class="section-header">
                        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª—É–±–∞</h2>
                        <p>–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–ª—É–±–∞ –∫–∞–±—Ä–∏–æ–ª–µ—Ç–æ–≤ CabrioRide</p>
                    </div>

                    <div class="stats-grid" id="stats-grid">
                        <!-- Stats cards will be inserted here -->
                    </div>

                    <div class="info-cards">
                        <div class="info-card">
                            <h3>–û –∫–ª—É–±–µ CabrioRide</h3>
                            <div class="info-content">
                                <p>üèÅ CabrioRide - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –∞–≤—Ç–æ–≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</p>
                                <p>üåü –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã —Å—Ç—Ä–∞—Å—Ç—å—é –∫ –¥—Ä–∞–π–≤—É</p>
                                <p>üöó –í –∫–ª—É–±–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–∞—Ä–∫–∏: BMW, Mercedes-Benz, Audi –∏ –¥—Ä—É–≥–∏–µ</p>
                                <p>ü§ù –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏, –ø–æ–µ–∑–¥–∫–∏ –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</p>
                            </div>
                        </div>
                        <div class="info-card">
                            <h3>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                            <div class="info-content">
                                <div class="progress-item">
                                    <span>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="activity-progress"></div>
                                    </div>
                                    <span class="progress-value" id="activity-value">0%</span>
                                </div>
                                <div class="progress-item">
                                    <span>–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</span>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="invitations-progress"></div>
                                    </div>
                                    <span class="progress-value" id="invitations-value">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Members Tab -->
            <div id="members-tab" class="tab-content">
                <div class="container">
                    <div class="section-header">
                        <h2>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–ª—É–±–∞</h2>
                        <p id="members-count">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>

                    <div class="filter-card">
                        <div class="filter-header">
                            <div class="filter-actions">
                                <button class="btn-profile" id="btn-profile" title="–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å">
                                    <span>üë§</span>
                                    <span>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</span>
                                </button>
                            </div>
                            <div class="filter-toggle">
                                <button class="clear-filters-btn" id="clear-members-filters">üóëÔ∏è</button>
                                <span>–§–∏–ª—å—Ç—Ä—ã</span>
                                <span class="filter-toggle-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="filter-content">
                            <div class="filter-grid">
                                <div class="filter-group">
                                    <label>–ò–º—è / –ù–∏–∫–Ω–µ–π–º</label>
                                    <input type="text" id="member-name-filter" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –Ω–∏–∫–Ω–µ–π–º—É...">
                                </div>
                                <div class="filter-group">
                                    <label>–ì–æ—Ä–æ–¥</label>
                                    <select id="member-city-filter">
                                        <option value="">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>–°—Ç–∞—Ç—É—Å</label>
                                    <select id="member-status-filter">
                                        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-grid" id="members-grid">
                        <!-- Members will be inserted here -->
                    </div>

                    <div class="empty-state hidden" id="members-empty">
                        <div class="empty-icon">üë•</div>
                        <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
                    </div>
                </div>
            </div>

            <!-- Cars Tab -->
            <div id="cars-tab" class="tab-content">
                <div class="container">
                    <div class="section-header">
                        <h2>–ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</h2>
                        <p id="cars-count">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>

                    <div class="filter-card">
                        <div class="filter-header">
                            <div class="filter-actions">
                                <button class="btn-add" id="btn-add-car" title="–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å">
                                    <span>üöó</span>
                                    <span>–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å</span>
                                </button>
                            </div>
                            <div class="filter-toggle">
                                <button class="clear-filters-btn" id="clear-cars-filters">üóëÔ∏è</button>
                                <span>–§–∏–ª—å—Ç—Ä—ã</span>
                                <span class="filter-toggle-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="filter-content">
                            <div class="filter-grid">
                                <div class="filter-group">
                                    <label>–ú–∞—Ä–∫–∞ / –ú–æ–¥–µ–ª—å</label>
                                    <input type="text" id="car-brand-filter" placeholder="BMW, Mercedes...">
                                </div>
                                <div class="filter-group">
                                    <label>–ù–æ–º–µ—Ä</label>
                                    <input type="text" id="car-number-filter" placeholder="–ú123–ê–í777...">
                                </div>
                                <div class="filter-group">
                                    <label>–í–ª–∞–¥–µ–ª–µ—Ü</label>
                                    <input type="text" id="car-owner-filter" placeholder="–ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞...">
                                </div>
                                <div class="filter-group">
                                    <label>–ì–æ–¥</label>
                                    <input type="text" id="car-year-filter" placeholder="2019...">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-grid" id="cars-grid">
                        <!-- Cars will be inserted here -->
                    </div>

                    <div class="empty-state hidden" id="cars-empty">
                        <div class="empty-icon">üöó</div>
                        <h3>–ê–≤—Ç–æ–º–æ–±–∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
                    </div>
                </div>
            </div>

            <!-- Invitations Tab -->
            <div id="invitations-tab" class="tab-content">
                <div class="container">
                    <div class="section-header">
                        <h2>–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π</h2>
                        <p id="invitations-count">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>

                    <div class="filter-card">
                        <div class="filter-header">
                            <div class="filter-actions">
                                <button class="btn-add" id="btn-add-invitation" title="–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ">
                                    <span>üì®</span>
                                    <span>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</span>
                                </button>
                            </div>
                            <div class="filter-toggle">
                                <button class="clear-filters-btn" id="clear-invitations-filters">üóëÔ∏è</button>
                                <span>–§–∏–ª—å—Ç—Ä—ã</span>
                                <span class="filter-toggle-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="filter-content">
                            <div class="filter-grid">
                                <div class="filter-group">
                                    <label>–ù–æ–º–µ—Ä –∞–≤—Ç–æ</label>
                                    <input type="text" id="invitation-number-filter" placeholder="–ú123–ê–í777...">
                                </div>
                                <div class="filter-group">
                                    <label>–û—Ç –∫–æ–≥–æ</label>
                                    <input type="text" id="invitation-inviter-filter" placeholder="–ò–º—è –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ...">
                                </div>
                                <div class="filter-group">
                                    <label>–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ</label>
                                    <select id="invitation-brand-filter">
                                        <option value="">–í—Å–µ –º–∞—Ä–∫–∏</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>–°—Ç–∞—Ç—É—Å</label>
                                    <select id="invitation-status-filter">
                                        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-grid" id="invitations-grid">
                        <!-- Invitations will be inserted here -->
                    </div>

                    <div class="empty-state hidden" id="invitations-empty">
                        <div class="empty-icon">üì®</div>
                        <h3>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
                    </div>
                </div>
            </div>

            <!-- Events Tab -->
            <div id="events-tab" class="tab-content">
                <div class="container">
                    <div class="section-header">
                        <h2>–°–æ–±—ã—Ç–∏—è –∫–ª—É–±–∞</h2>
                        <p id="events-count">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>

                    <div class="filter-card">
                        <div class="filter-header">
                            <div class="filter-actions">
                                <button class="btn-add" id="btn-add-event" title="–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ">
                                    <span>üéâ</span>
                                    <span>–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</span>
                                </button>
                            </div>
                            <div class="filter-toggle">
                                <button class="clear-filters-btn" id="clear-events-filters">üóëÔ∏è</button>
                                <span>–§–∏–ª—å—Ç—Ä—ã</span>
                                <span class="filter-toggle-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="filter-content">
                            <div class="filter-grid">
                                <div class="filter-group">
                                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                                    <input type="text" id="event-title-filter" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
                                </div>
                                <div class="filter-group">
                                    <label>–ì–æ—Ä–æ–¥</label>
                                    <select id="event-city-filter">
                                        <option value="">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>–¢–∏–ø —Å–æ–±—ã—Ç–∏—è</label>
                                    <select id="event-type-filter">
                                        <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>–°—Ç–∞—Ç—É—Å</label>
                                    <select id="event-status-filter">
                                        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-grid" id="events-grid">
                        <!-- Events will be inserted here -->
                    </div>

                    <div class="empty-state hidden" id="events-empty">
                        <div class="empty-icon">üéâ</div>
                        <h3>–°–æ–±—ã—Ç–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
                    </div>
                </div>
            </div>

            <!-- Services Tab -->
            <div id="services-tab" class="tab-content">
                <div class="container">
                    <div class="section-header">
                        <h2>–ö–∞—Ç–∞–ª–æ–≥ —Å–µ—Ä–≤–∏—Å–æ–≤</h2>
                        <p id="services-count">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>

                    <div class="filter-card">
                        <div class="filter-header">
                            <div class="filter-actions">
                                <button class="btn-add" id="btn-add-service" title="–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å">
                                    <span>üîß</span>
                                    <span>–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å</span>
                                </button>
                            </div>
                            <div class="filter-toggle">
                                <button class="clear-filters-btn" id="clear-services-filters">üóëÔ∏è</button>
                                <span>–§–∏–ª—å—Ç—Ä—ã</span>
                                <span class="filter-toggle-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="filter-content">
                            <div class="filter-grid">
                                <div class="filter-group">
                                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                                    <input type="text" id="service-name-filter" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
                                </div>
                                <div class="filter-group">
                                    <label>–ì–æ—Ä–æ–¥</label>
                                    <select id="service-city-filter">
                                        <option value="">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>–¢–∏–ø —É—Å–ª—É–≥</label>
                                    <select id="service-type-filter">
                                        <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</label>
                                    <select id="service-recommendation-filter">
                                        <option value="">–í—Å–µ</option>
                                        <option value="—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è</option>
                                        <option value="–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è">–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-grid" id="services-grid">
                        <!-- Services will be inserted here -->
                    </div>

                    <div class="empty-state hidden" id="services-empty">
                        <div class="empty-icon">üîß</div>
                        <h3>–°–µ—Ä–≤–∏—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Photo Modal -->
    <div id="photo-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close">‚úï</button>
            <img id="modal-image" src="" alt="">
            <div class="modal-nav">
                <button id="modal-prev">‚Äπ</button>
                <button id="modal-next">‚Ä∫</button>
            </div>
            <div class="modal-counter">
                <span id="modal-current">1</span> / <span id="modal-total">1</span>
            </div>
        </div>
    </div>

    <!-- Add Car Modal -->
    <div id="add-car-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content form-modal">
            <div class="modal-header">
                <h3>üöó –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å</h3>
                <button class="modal-close">‚úï</button>
            </div>
            <form id="add-car-form" class="modal-form">
                <div class="form-group">
                    <label for="car-brand">–ú–∞—Ä–∫–∞ *</label>
                    <input type="text" id="car-brand" name="brand" required placeholder="BMW, Mercedes-Benz...">
                </div>
                <div class="form-group">
                    <label for="car-model">–ú–æ–¥–µ–ª—å *</label>
                    <input type="text" id="car-model" name="model" required placeholder="Z4, SLK...">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="car-year">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ *</label>
                        <input type="number" id="car-year" name="year" required min="1990" max="2024" placeholder="2020">
                    </div>
                    <div class="form-group">
                        <label for="car-color">–¶–≤–µ—Ç</label>
                        <input type="text" id="car-color" name="color" placeholder="–ß–µ—Ä–Ω—ã–π, –±–µ–ª—ã–π...">
                    </div>
                </div>
                <div class="form-group">
                    <label for="car-number">–ì–æ—Å. –Ω–æ–º–µ—Ä *</label>
                    <input type="text" id="car-number" name="reg_number" required placeholder="–ú123–ê–í777">
                </div>
                <div class="form-group">
                    <label for="car-engine">–û–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è</label>
                    <input type="text" id="car-engine" name="engine_volume" placeholder="2.0, 3.0...">
                </div>
                <div class="form-group">
                    <label for="car-photos">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
                    <input type="file" id="car-photos" name="photos" multiple accept="image/*">
                    <div class="file-preview" id="car-photos-preview"></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="app.closeModal('add-car-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Invitation Modal -->
    <div id="add-invitation-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content form-modal">
            <div class="modal-header">
                <h3>üì® –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</h3>
                <button class="modal-close">‚úï</button>
            </div>
            <form id="add-invitation-form" class="modal-form">
                <div class="form-group">
                    <label for="invitation-number">–ù–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è *</label>
                    <input type="text" id="invitation-number" name="car_number" required placeholder="–ú123–ê–í777">
                </div>
                <div class="form-group">
                    <label for="invitation-brand">–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è</label>
                    <input type="text" id="invitation-brand" name="car_brand" placeholder="BMW, Mercedes...">
                </div>
                <div class="form-group">
                    <label for="invitation-location">–ú–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏</label>
                    <input type="text" id="invitation-location" name="location" placeholder="–ê–¥—Ä–µ—Å –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Å—Ç–∞">
                </div>
                <div class="form-group">
                    <label for="invitation-date">–î–∞—Ç–∞ –≤—Å—Ç—Ä–µ—á–∏</label>
                    <input type="datetime-local" id="invitation-date" name="meeting_date">
                </div>
                <div class="form-group">
                    <label for="invitation-photos">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
                    <input type="file" id="invitation-photos" name="photos" multiple accept="image/*">
                    <div class="file-preview" id="invitation-photos-preview"></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="app.closeModal('add-invitation-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Event Modal -->
    <div id="add-event-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content form-modal">
            <div class="modal-header">
                <h3>üéâ –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</h3>
                <button class="modal-close">‚úï</button>
            </div>
            <form id="add-event-form" class="modal-form">
                <div class="form-group">
                    <label for="event-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è *</label>
                    <input type="text" id="event-title" name="title" required placeholder="–ó–∞–µ–∑–¥, –≤—Å—Ç—Ä–µ—á–∞, —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—è...">
                </div>
                <div class="form-group">
                    <label for="event-type">–¢–∏–ø —Å–æ–±—ã—Ç–∏—è *</label>
                    <select id="event-type" name="type" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                        <option value="–∑–∞–µ–∑–¥">–ó–∞–µ–∑–¥</option>
                        <option value="–≤—Å—Ç—Ä–µ—á–∞">–í—Å—Ç—Ä–µ—á–∞</option>
                        <option value="—Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—è">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                        <option value="–ø–æ–µ–∑–¥–∫–∞">–ü–æ–µ–∑–¥–∫–∞</option>
                        <option value="–±–∞–Ω–∫–µ—Ç">–ë–∞–Ω–∫–µ—Ç</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="event-date">–î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è *</label>
                        <input type="date" id="event-date" name="event_date" required>
                    </div>
                    <div class="form-group">
                        <label for="event-time">–í—Ä–µ–º—è</label>
                        <input type="time" id="event-time" name="event_time">
                    </div>
                </div>
                <div class="form-group">
                    <label for="event-location">–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è *</label>
                    <input type="text" id="event-location" name="location" required placeholder="–ê–¥—Ä–µ—Å –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Å—Ç–∞">
                </div>
                <div class="form-group">
                    <label for="event-price">–°—Ç–æ–∏–º–æ—Å—Ç—å —É—á–∞—Å—Ç–∏—è</label>
                    <input type="number" id="event-price" name="price" min="0" placeholder="0">
                </div>
                <div class="form-group">
                    <label for="event-photos">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
                    <input type="file" id="event-photos" name="photos" multiple accept="image/*">
                    <div class="file-preview" id="event-photos-preview"></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="app.closeModal('add-event-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Service Modal -->
    <div id="add-service-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content form-modal">
            <div class="modal-header">
                <h3>üîß –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å</h3>
                <button class="modal-close">‚úï</button>
            </div>
            <form id="add-service-form" class="modal-form">
                <div class="form-group">
                    <label for="service-name">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ *</label>
                    <input type="text" id="service-name" name="name" required placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞">
                </div>
                <div class="form-group">
                    <label for="service-type">–¢–∏–ø —É—Å–ª—É–≥ *</label>
                    <select id="service-type" name="type" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                        <option value="–∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å">–ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å</option>
                        <option value="–¥–µ—Ç–µ–π–ª–∏–Ω–≥">–î–µ—Ç–µ–π–ª–∏–Ω–≥</option>
                        <option value="—à–∏–Ω–æ–º–æ–Ω—Ç–∞–∂">–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂</option>
                        <option value="—ç–ª–µ–∫—Ç—Ä–∏–∫">–≠–ª–µ–∫—Ç—Ä–∏–∫</option>
                        <option value="–∞–≤—Ç–æ–º–æ–π–∫–∞">–ê–≤—Ç–æ–º–æ–π–∫–∞</option>
                        <option value="—Ç—é–Ω–∏–Ω–≥">–¢—é–Ω–∏–Ω–≥</option>
                        <option value="—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ">–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="service-address">–ê–¥—Ä–µ—Å *</label>
                    <input type="text" id="service-address" name="address" required placeholder="–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–∏—Å–∞">
                </div>
                <div class="form-group">
                    <label for="service-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="service-phone" name="phone" placeholder="+7 (999) 123-45-67">
                </div>
                <div class="form-group">
                    <label for="service-rating">–†–µ–π—Ç–∏–Ω–≥</label>
                    <select id="service-rating" name="rating">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥</option>
                        <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –û—Ç–ª–∏—á–Ω–æ</option>
                        <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê –•–æ—Ä–æ—à–æ</option>
                        <option value="3">‚≠ê‚≠ê‚≠ê –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ</option>
                        <option value="2">‚≠ê‚≠ê –ü–ª–æ—Ö–æ</option>
                        <option value="1">‚≠ê –û—á–µ–Ω—å –ø–ª–æ—Ö–æ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="service-recommendation">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∫–ª—É–±–∞</label>
                    <select id="service-recommendation" name="recommendation">
                        <option value="">–ë–µ–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</option>
                        <option value="—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è</option>
                        <option value="–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è">–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="service-photos">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
                    <input type="file" id="service-photos" name="photos" multiple accept="image/*">
                    <div class="file-preview" id="service-photos-preview"></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="app.closeModal('add-service-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profile-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content form-modal">
            <div class="modal-header">
                <h3>üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
                <button class="modal-close">‚úï</button>
            </div>
            <form id="profile-form" class="modal-form">
                <div class="form-group">
                    <label for="profile-first-name">–ò–º—è *</label>
                    <input type="text" id="profile-first-name" name="first_name" required>
                </div>
                <div class="form-group">
                    <label for="profile-last-name">–§–∞–º–∏–ª–∏—è</label>
                    <input type="text" id="profile-last-name" name="last_name">
                </div>
                <div class="form-group">
                    <label for="profile-username">–ù–∏–∫–Ω–µ–π–º</label>
                    <input type="text" id="profile-username" name="username" readonly>
                </div>
                <div class="form-group">
                    <label for="profile-city">–ì–æ—Ä–æ–¥</label>
                    <input type="text" id="profile-city" name="city" placeholder="–ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥...">
                </div>
                <div class="form-group">
                    <label for="profile-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="profile-phone" name="phone" placeholder="+7 (999) 123-45-67">
                </div>
                <div class="form-group">
                    <label for="profile-birth-date">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                    <input type="date" id="profile-birth-date" name="birth_date">
                </div>
                <div class="form-group">
                    <label for="profile-photo">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–æ—Ñ–∏–ª—è</label>
                    <input type="file" id="profile-photo" name="photo" accept="image/*">
                    <div class="file-preview" id="profile-photo-preview"></div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="app.closeModal('profile-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/data.js"></script>
    <script src="js/real-api.js"></script>
    
    <!-- Telegram Auth Function - MUST be defined before app.js -->
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è Telegram Widget - –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ä–∞–∑—É
        window.onTelegramAuth = function(user) {
            console.log('Telegram Widget auth callback received:', user);
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ø—ã—Ç–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            function attemptAuth(retryCount = 0) {
                if (window.app && window.app.handleTelegramAuth && typeof window.app.handleTelegramAuth === 'function') {
                    console.log('App ready, processing auth...');
                    window.app.handleTelegramAuth(user);
                    return true;
                } else if (retryCount < 10) {
                    console.log(`App not ready (attempt ${retryCount + 1}/10), retrying in 500ms...`);
                    setTimeout(() => attemptAuth(retryCount + 1), 500);
                    return false;
                } else {
                    console.error('App failed to initialize after 10 attempts');
                    alert('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
                    return false;
                }
            }
            
            attemptAuth();
        };
    </script>
    
    <script src="js/app.js"></script>
    
    <!-- Initialize Application -->
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing CabrioRide app...');
            try {
                window.app = new CabrioRideApp();
                console.log('CabrioRide app initialized successfully');
            } catch (error) {
                console.error('Failed to initialize CabrioRide app:', error);
                alert('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: ' + error.message);
            }
        });
    </script>
</body>
</html>